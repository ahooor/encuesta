{% extends "base.html" %}
{% block content %}
        <div class="flex flex-col gap-12 md:gap-16 rounded-2xl p-8 md:p-16 justify-center">
            <div class="flex flex-col items-center ">
                <h1 class="flex gap-4 justify-center items-center w-full md:w-auto text-4xl md:text-6xl rounded-lg font-bold tracking-widest bg-black/25 px-4 py-2 text-pink-300">
                    ENCUESTA
                </h1>
            </div>


            <div class="flex flex-col gap-8 justify-center">

                <span id="timer" class="text-6xl font-bold text-center rounded-full w-32 text-rose-400 bg-black/25 mx-auto p-8">15</span>

                <div class="flex flex-col gap-4 mx-auto lg:w-[1024px] text-center">
                    <h2 class="text-center text-4xl font-semibold w-full rounded-lg bg-black/25 text-purple-100 mx-auto px-4 py-4">
                        {{ question.question_text }}
                        
                    </h2>

                    <form id="form" method="post" class="grid grid-cols-2 gap-4 md:gap-8 text-white font-semibold text-4xl">
                        {% csrf_token %}
                        
                        <input type="hidden" name="question" value="{{ question.id }}">

                        {% for answer in answers %}
                            <button type="submit" name="answer" value="{{ answer.id }}" class="flex justify-center h-48 items-center gap-4 bg-purple-300/75 hover:bg-purple-400/75 border border-purple-300 py-2 px-4  rounded-lg hover:cursor-pointer">
                                {{ answer.answer_text }}
                            </button>
                        {% endfor %}

                    </form>
                </div>

            </div>
        </div>

<script>
    let timeLeft = 15;
    const timerElement = document.getElementById('timer');
    const formElement = document.getElementById('form');

    function countdown() {
        if (timeLeft > 0) {
            timeLeft--;
            timerElement.textContent = timeLeft;
        } else {
            clearInterval(interval);
            // alert('Time is up!');

            form.submit();
        }
    }

    const interval = setInterval(countdown, 1000);
</script>
{% endblock %}